{% extends 'base.html' %}
{% import 'macros/_render_field.html' as wtf %}
{% block title %} Home {% endblock %}

{% block content %}
<section id="hero">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
          <h1 class="h1-responsive">{{_('0_intro')}}</h1>
      </div>
    </div>
  </div>
</section>

<section id="formsection">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <form name="step_0" id="step_0" method="POST" action="{{url_for('main.index')}}">
          {{form.hidden_tag()}}

          {{wtf.render_field(
            form.name_first,
            _('0_name_help'),
            { 
              'required':'required',
              'data-parsley-error-message': _('Required'),
              'autocomplete':'off',
              'data-parsley-trigger':'focusout'
            }
            )}}

          <div class="text-right mt-4">
              <button class="btn btn-outline-default" type="submit"><i class="fa fa-spinner fa-spin loading mr-2"></i><i class="fa checkmark fa-check mr-2"></i> Next </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block js_footer %}
<script>
// $(function () {
//   //initialize form with parsley validation
//   var form = $('#step_0');
//   window.Parsley.addValidator('dobLimit', {
//     requirementType: 'string',
//     validateString: function(value) {
//       var compare = Math.floor(moment(new Date()).diff(moment(value,"MM/DD/YYYY"),'years',true))
//       if(compare <= 15) {
//         return false;
//       }
//       return true;
//     }
//   })
//   form.parsley()
//
//   // form.submit(function( event ){
//   //   event.preventDefault();
//   //   var formy = new Formy(form);
//   //   formy.submitForm();
//   //
//   // })
// });
//
// </script>
{% endblock %}
